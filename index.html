<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Revive with Sade Massage - Book Your Session</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root {
            --primary-purple: #8B5A9F;
            --dark-purple: #6B4C7D;
            --light-purple: #B19CD9;
            --gold: #FFD700;
            --dark-gold: #E6C200;
            --black: #1a1a1a;
            --light-black: #2d2d2d;
            --white: #ffffff;
            --grey: #f8f8f8;
            --error: #ff4444;
            --success: #4CAF50;
        }
        body {
            font-family: 'Inter', Arial, sans-serif;
            background: linear-gradient(135deg, var(--black) 0%, var(--light-black) 50%, var(--dark-purple) 100%);
            color: var(--white);
            min-height: 100vh;
            line-height: 1.6;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        .header {
            text-align: center;
            padding: 40px 0;
            background: rgba(139, 90, 159, 0.1);
            border-radius: 20px;
            margin-bottom: 40px;
            border: 2px solid var(--gold);
        }
        .logo {
            font-family: 'Playfair Display', serif;
            font-size: 3.5rem;
            font-weight: 700;
            background: linear-gradient(45deg, var(--gold), var(--light-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        .tagline {
            font-size: 1.2rem;
            color: var(--light-purple);
            font-weight: 300;
        }
        .booking-form {
            background: linear-gradient(145deg, rgba(139, 90, 159, 0.15), rgba(45, 45, 45, 0.8));
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.4);
            border: 1px solid var(--gold);
            margin-bottom: 30px;
        }
        .form-section { margin-bottom: 30px; }
        .section-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.8rem;
            color: var(--gold);
            margin-bottom: 20px;
            border-bottom: 2px solid var(--primary-purple);
            padding-bottom: 10px;
        }
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        .form-group { position: relative; }
        .form-group.full-width { grid-column: 1 / -1; }
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--gold);
        }
        input, select, textarea {
            width: 100%;
            padding: 15px;
            border: 2px solid var(--primary-purple);
            border-radius: 10px;
            background: rgba(26, 26, 26, 0.8);
            color: var(--white);
            font-size: 16px;
            transition: all 0.3s ease;
        }
        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: var(--gold);
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.3);
        }
        select { cursor: pointer; }
        option { background: var(--light-black); color: var(--white); }
        .service-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 15px;
        }
        .service-card {
            background: linear-gradient(145deg, var(--dark-purple), var(--primary-purple));
            padding: 25px;
            border-radius: 15px;
            border: 2px solid transparent;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }
        .service-card:hover {
            transform: translateY(-5px);
            border-color: var(--gold);
            box-shadow: 0 10px 30px rgba(255, 215, 0, 0.2);
        }
        .service-card.selected {
            border-color: var(--gold);
            background: linear-gradient(145deg, var(--dark-gold), var(--gold));
            color: var(--black);
        }
        .service-title { font-size: 1.3rem; font-weight: 600; margin-bottom: 10px; }
        .service-duration { font-size: 1rem; margin-bottom: 15px; opacity: 0.9; }
        .service-price { font-size: 1.5rem; font-weight: 700; color: var(--gold); }
        .service-card.selected .service-price { color: var(--black); }
        .calendar-container { margin: 20px 0; }
        .flatpickr-input {
            background: rgba(26, 26, 26, 0.8);
            color: var(--white);
            border: 2px solid var(--primary-purple);
        }
        .address-dropdown { display: none; margin-top: 10px; }
        .address-dropdown.show { display: block; }
        .price-display {
            background: linear-gradient(45deg, var(--gold), var(--dark-gold));
            color: var(--black);
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            margin: 20px 0;
            font-size: 1.5rem;
            font-weight: 700;
        }
        .submit-btn {
            width: 100%;
            padding: 18px;
            background: linear-gradient(45deg, var(--gold), var(--dark-gold));
            color: var(--black);
            border: none;
            border-radius: 15px;
            font-size: 1.2rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        .submit-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(255, 215, 0, 0.4);
        }
        .submit-btn:disabled { opacity: 0.6; cursor: not-allowed; transform: none; }
        .error-message { color: var(--error); font-size: 0.9rem; margin-top: 5px; }
        .success-message {
            background: var(--success);
            color: var(--white);
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            text-align: center;
            display: none;
        }
        .loading { display: none; text-align: center; margin-top: 20px; }
        .spinner {
            border: 4px solid var(--primary-purple);
            border-top: 4px solid var(--gold);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .footer { text-align: center; padding: 30px; color: var(--light-purple); font-size: 0.9rem; }
        @media (max-width: 768px) {
            .container { padding: 15px; }
            .logo { font-size: 2.5rem; }
            .form-row { grid-template-columns: 1fr; }
            .booking-form { padding: 25px; }
            .service-options { grid-template-columns: 1fr; }
        }
        /* Flatpickr styling */
        .flatpickr-calendar { background: var(--light-black); border: 2px solid var(--primary-purple); }
        .flatpickr-month { background: var(--primary-purple); color: var(--white); }
        .flatpickr-day { color: var(--white); }
        .flatpickr-day:hover { background: var(--primary-purple); color: var(--white); }
        .flatpickr-day.selected { background: var(--gold); color: var(--black); }
        .flatpickr-day.disabled { color: #666; }
        .flatpickr-calendar,
        .flatpickr-calendar .flatpickr-day,
        .flatpickr-calendar .flatpickr-weekday,
        .flatpickr-calendar .flatpickr-current-month,
        .flatpickr-calendar .flatpickr-monthDropdown-months,
        .flatpickr-calendar .flatpickr-months .flatpickr-month { color: #fff !important; }
        .flatpickr-calendar .flatpickr-day { color: #fff !important; }
        .flatpickr-calendar .flatpickr-day.selected,
        .flatpickr-calendar .flatpickr-day.today { color: #222 !important; }
        .flatpickr-input { color: #fff !important; }
    </style>
</head>
<body>
<div class="container">
    <div class="header">
        <h1 class="logo">Revive with Sade</h1>
        <p class="tagline">Premium Massage Therapy & Wellness</p>
    </div>
    <form class="booking-form" id="bookingForm" action="https://formspree.io/f/xldpgneq" method="POST">
        <input type="hidden" name="_next" value="thank-you.html">
        <input type="hidden" name="_subject" value="New Massage Booking Request">
        <input type="hidden" name="_captcha" value="false">
        <!-- Personal Information -->
        <div class="form-section">
            <h2 class="section-title">Personal Information</h2>
            <div class="form-row">
                <div class="form-group">
                    <label for="firstName">First Name *</label>
                    <input type="text" id="firstName" name="firstName" required>
                    <div class="error-message" id="firstNameError"></div>
                </div>
                <div class="form-group">
                    <label for="lastName">Last Name *</label>
                    <input type="text" id="lastName" name="lastName" required>
                    <div class="error-message" id="lastNameError"></div>
                </div>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label for="phone">Phone Number *</label>
                    <input type="tel" id="phone" name="phone" required>
                    <div class="error-message" id="phoneError"></div>
                </div>
                <div class="form-group">
                    <label for="email">Email Address *</label>
                    <input type="email" id="email" name="email" required>
                    <div class="error-message" id="emailError"></div>
                </div>
            </div>
        </div>
        <!-- Location Selection -->
        <div class="form-section">
            <h2 class="section-title">Location Preference</h2>
            <div class="form-group full-width">
                <label for="locationType">Where would you like your massage? *</label>
                <select id="locationType" name="locationType" required>
                    <option value="">Select Location Type</option>
                    <option value="destination">At Our Studio (Base Price)</option>
                    <option value="address">At Your Address (Mobile Service)</option>
                </select>
                <div class="error-message" id="locationTypeError"></div>
            </div>
            <div class="address-dropdown" id="addressSection">
                <div class="form-group full-width">
                    <label for="clientAddress">Your Address *</label>
                    <textarea id="clientAddress" name="clientAddress" rows="3" placeholder="Please enter your full address"></textarea>
                    <div class="error-message" id="addressError"></div>
                </div>
            </div>
        </div>
        <!-- Service Selection -->
        <div class="form-section">
            <h2 class="section-title">Choose Your Service</h2>
            <div class="service-options">
                <div class="service-card" data-service="30min" data-price="500">
                    <div class="service-title">Relaxation Session</div>
                    <div class="service-duration">30 Minutes</div>
                    <div class="service-price">500 Le</div>
                </div>
                <div class="service-card" data-service="60min" data-price="1000">
                    <div class="service-title">Full Body Massage</div>
                    <div class="service-duration">60 Minutes</div>
                    <div class="service-price">1,000 Le</div>
                </div>
            </div>
            <input type="hidden" id="selectedService" name="selectedService" required>
            <input type="hidden" id="servicePrice" name="servicePrice" required>
            <div class="error-message" id="serviceError"></div>
        </div>
        <!-- Date and Time Selection -->
        <div class="form-section">
            <h2 class="section-title">Select Date & Time</h2>
            <div class="form-row">
                <div class="form-group">
                    <label for="bookingDate">Preferred Date *</label>
                    <input type="text" id="bookingDate" name="bookingDate" placeholder="Select date" required>
                    <div class="error-message" id="dateError"></div>
                </div>
                <div class="form-group">
                    <label for="bookingTime">Preferred Time *</label>
                    <select id="bookingTime" name="bookingTime" required>
                        <option value="">Select Time</option>
                    </select>
                    <div class="error-message" id="timeError"></div>
                </div>
            </div>
        </div>
        <!-- Additional Information -->
        <div class="form-section">
            <h2 class="section-title">Additional Information</h2>
            <div class="form-group full-width">
                <label for="specialRequests">Special Requests or Health Considerations</label>
                <textarea id="specialRequests" name="specialRequests" rows="4" placeholder="Please let us know about any allergies, injuries, or special preferences..."></textarea>
            </div>
        </div>
        <!-- Price Display -->
        <div class="price-display" id="priceDisplay" style="display: none;">
            Total: <span id="totalPrice">0</span> Le
        </div>
        <input type="hidden" id="serviceDetails" name="serviceDetails">
        <input type="hidden" id="finalPrice" name="finalPrice">
        <input type="hidden" id="submissionTimestamp" name="submissionTimestamp">
        <!-- Submit Button -->
        <button type="submit" class="submit-btn" id="submitBtn">Book Your Session</button>
        <div class="loading" id="loadingDiv">
            <div class="spinner"></div>
            <p>Sending your booking...</p>
        </div>
        <div class="success-message" id="successMessage">
            Your booking has been submitted successfully! You will receive a confirmation email shortly.
        </div>
    </form>
    <div class="footer">
        <p>&copy; 2025 Revive with Sade. Professional massage therapy services.</p>
        <p>Contact us: <a href="mailto:info@revivewithsade.com">info@revivewithsade.com</a></p>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
<script>
let selectedService = null;
let selectedPrice = 0;
let selectedDuration = 0; // in minutes

// Example of booked slots: date => array of booked times
// Format: "YYYY-MM-DD": ["11:00", "13:30"]
let bookedSlots = {
    "2025-11-12": ["11:00"], // Example: 12th Nov already booked 11am
};

document.addEventListener('DOMContentLoaded', function() {
    populateTimeSlots();

    flatpickr("#bookingDate", {
        minDate: "today",
        maxDate: "2026-12-31",
        dateFormat: "Y-m-d",
        disable: [date => date.getDay() === 0], // Disable Sundays
        onChange: populateTimeSlots
    });

    document.querySelectorAll('.service-card').forEach(card => {
        card.addEventListener('click', function() {
            document.querySelectorAll('.service-card').forEach(c => c.classList.remove('selected'));
            this.classList.add('selected');
            selectedService = this.dataset.service;
            selectedPrice = parseInt(this.dataset.price);
            selectedDuration = this.dataset.service === '30min' ? 30 : 60;
            document.getElementById('selectedService').value = selectedService;
            document.getElementById('servicePrice').value = selectedPrice;
            updatePricing();
            populateTimeSlots();
        });
    });

    document.getElementById('locationType').addEventListener('change', function() {
        const addressSection = document.getElementById('addressSection');
        if (this.value === 'address') {
            addressSection.classList.add('show');
            document.getElementById('clientAddress').required = true;
        } else {
            addressSection.classList.remove('show');
            document.getElementById('clientAddress').required = false;
        }
        updatePricing();
    });
});

function updatePricing() {
    let locationMultiplier = document.getElementById('locationType').value === 'address' ? 1.2 : 1;
    let total = selectedPrice * locationMultiplier;
    document.getElementById('priceDisplay').style.display = total ? 'block' : 'none';
    document.getElementById('totalPrice').textContent = total.toFixed(0);
    document.getElementById('finalPrice').value = total.toFixed(0);
}

function populateTimeSlots() {
    const timeSelect = document.getElementById('bookingTime');
    const currentValue = timeSelect.value;
    timeSelect.innerHTML = '<option value="">Select Time</option>';

    const startHour = 11;
    const endHour = 18;
    const times = [];
    for (let hour = startHour; hour <= endHour; hour++) {
        times.push(`${hour.toString().padStart(2,'0')}:00`);
        times.push(`${hour.toString().padStart(2,'0')}:30`);
    }

    const selectedDate = document.getElementById('bookingDate').value;

    times.forEach(time => {
        let option = document.createElement('option');
        option.value = time;
        option.textContent = time;

        // Disable if already booked
        if (selectedDate && bookedSlots[selectedDate]) {
            if (bookedSlots[selectedDate].includes(time)) {
                option.disabled = true;
                option.textContent += " (Unavailable)";
            }
        }

        timeSelect.appendChild(option);
    });
}
</script>
</body>
</html>
